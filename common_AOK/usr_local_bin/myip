#!/bin/bash

INT_IP="$(curl http://ifconfig.me 2>/dev/null)"

if [ -n "$INT_IP" ]; then
    echo "Internet IP:  $INT_IP"
else 
    echo "Unable to determine Internet IP"
fi

if [ -f "/proc/ish/ips" ]; then
   OUTPUT=$(grep ^en  /proc/ish/ips | grep -v INET6)
   if [ -n "$OUTPUT" ]; then
      OUTPUT_ARRAY=($OUTPUT)
      LOCAL_IP=${OUTPUT_ARRAY[1]}
      echo "Local IP(V4): $LOCAL_IP"
   fi
   else
      LOCAL_IP="$(/usr/local/bin/idev_ip |& cut -d: -f 2)"

      if [[ "$LOCAL_IP" =~ "Invalid" ]]; then
          echo "Local IP(V4): Unknown"
      else
          echo "Local IP(V4): $LOCAL_IP"
      fi
fi

if [ -f "/proc/ish/ips" ]; then
   OUTPUT=$(grep ^en /proc/ish/ips | grep INET6)
   if [ -n "$OUTPUT" ]; then
      OUTPUT_ARRAY=($OUTPUT)
      LOCAL_IP=${OUTPUT_ARRAY[1]}
   echo "Local IP(V6): $LOCAL_IP"
   fi
fi
